(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{57443:function(e,t,o){Promise.resolve().then(o.bind(o,40035)),Promise.resolve().then(o.bind(o,62395))},62395:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return components_GoogleOneTap}});var n=o(95802),r=o(82038);function useScript(e){let[t,o]=(0,r.useState)(e?"loading":"idle");return(0,r.useEffect)(()=>{if(!e){o("idle");return}let t=document.querySelector('script[src="'.concat(e,'"]'));if(t)o(t.getAttribute("data-status")||"idle");else{(t=document.createElement("script")).src=e,t.async=!0,t.setAttribute("data-status","loading"),document.body.appendChild(t);let setAttributeFromEvent=e=>{t&&t.setAttribute("data-status","load"===e.type?"ready":"error")};t.addEventListener("load",setAttributeFromEvent),t.addEventListener("error",setAttributeFromEvent)}let setStateFromEvent=e=>{o("load"===e.type?"ready":"error")};return t.addEventListener("load",setStateFromEvent),t.addEventListener("error",setStateFromEvent),()=>{t&&(t.removeEventListener("load",setStateFromEvent),t.removeEventListener("error",setStateFromEvent))}},[e]),t}let i="__googleOneTapScript__";function callback(e){let{data:t,onError:o,onSuccess:n}=e;(null==t?void 0:t.credential)&&fetch("".concat("https://oauth2.googleapis.com/tokeninfo?id_token=").concat(t.credential)).then(e=>{if((null==e?void 0:e.status)===200&&(null==e?void 0:e.json))return e.json();throw o&&o(),Error("Something went wrong")}).then(e=>{n&&n(e)}).catch(e=>{throw o&&o(e),e})}function useGoogleOneTapLogin(e){let{onError:t,disabled:o,onSuccess:n,googleAccountConfigs:l,disableCancelOnUnmount:a=!1}=e,c=useScript("https://accounts.google.com/gsi/client"),s=l.callback?l.callback:e=>callback({data:e,onError:t,onSuccess:n});return(0,r.useEffect)(()=>{var e,t;if((null===(e=window)||void 0===e?void 0:e[i])||!window.google||"ready"!==c||(window.google.accounts.id.initialize({...l,callback:s}),window[i]=!0),(null===(t=window)||void 0===t?void 0:t[i])&&"ready"===c&&!o)return window.google.accounts.id.prompt(),()=>{a||window.google.accounts.id.cancel()}},[c,o]),null}var l=o(54795),components_GoogleOneTap=function(){return useGoogleOneTapLogin({onSuccess:async e=>{let t=await (0,l.zB)("credentials",{redirect:!0,id:e.sub,email:e.email,name:e.name,picture:e.picture,callbackUrl:"/"});(null==t?void 0:t.error)&&console.log(null==t?void 0:t.error)},onError:e=>{console.log(e)},googleAccountConfigs:{client_id:"309019222178-mmncl8tbuid5recbdvo90s1pe2mbci00.apps.googleusercontent.com"},disabled:!1}),(0,n.jsx)(n.Fragment,{})}}},function(e){e.O(0,[545,204,696,115,647,93,795,805,177,35,479,454,744],function(){return e(e.s=57443)}),_N_E=e.O()}]);